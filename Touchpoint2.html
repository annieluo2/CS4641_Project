<!DOCTYPE html>
<html>
  <head>
    <title>homedemic</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        .dropbtn {
          background-color: #b0e0e6;
          color: white;
          padding: 16px;
          font-size: 16px;
          border: none;
        }

        .dropdown {
          position: relative;
          display: inline-block;
        }

        .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f1f1f1;
          min-width: 160px;
          box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
          z-index: 1;
        }

        .dropdown-content a {
          color: black;
          padding: 12px 16px;
          text-decoration: none;
          display: block;
        }

        .dropdown-content a:hover {background-color: #c9eaee;}

        .dropdown:hover .dropdown-content {display: block;}

        .dropdown:hover .dropbtn {background-color: #b0e0e6;}
      
        .nav-item {
            padding-right: 10px
        }
         * {
            font-family: 'Cabin', sans-serif;
         }
    </style>
    <!-- Bootstrap CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Cabin&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-sm navbar-light" style="background-color: #b0e0e6">
        <div class="dropdown">
          <button class="dropbtn"><b>homedemic &darr;</b>
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="index.html">Home</a>
            <a href="Touchpoint1.html">Touchpoint 1</a>
            <a href="Touchpoint2.html">Touchpoint 2</a>
            <a href="Touchpoint3.html">Touchpoint 3</a>
          </div>
        </div> 
        <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <!-- 
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
                </li>
                <a href="#Lorem_Ipsum">top</a>
                -->
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#goals">goals</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#combining">combining datasets</a>
                </li>
                <br>  
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#cleaning">data cleaning</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#analysis">analysis</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#clustering">algorithms</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#conclusion">conclusion</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="jumbotron-fluid" style="background-color: black; padding-top: 90px; padding-bottom: 50px;"> 
        <div class="row">
            <div class="col-sm-6" style="border-right: 1px dashed white; text-align: right; color: white;">
                <h1>Touchpoint 2</h1>
              </div>
              <div class="col-sm-6" style="text-align: left; color: #B0E0E6">
                  <h4> Unsupervised Learning </h4>
              </div>
          </div>
      </div>   
    <div class="jumbotron-fluid" id="goals" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                    <p>
                      We are trying to find a correlation between the number of COVID-19 cases and the median days pending to sale (MDPS) using unsupervised learning, namely clustering algorithms or any form of visualizations, so that we can eventually predict future MDPS values. This is a regression problem because our target is the numeric values of median days pending to sale. The range of our values is 7-80 days though we split them into categories for our clustering algorithms to reduce it. To do this, we are utilizing housing datasets from Zillow as well as a Johns Hopkins COVID-19 case dataset.
                    </p>
                </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>Goals</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="combining" style="padding-top: 50px; padding-bottom: 50px; color: #B0E0E6; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>Combining Datasets</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                    <p>
                      The Zillow housing datasets were organized by metropolitan statistical areas (MSAs), and we chose the top 19 MSAs because they had the least amount of information missing due to being major cities such as New York City and Los Angeles. The top MSAs also generally experience a lot of movement due to their population sizes and high cost of living. Housing data points for each housing feature were provided on a weekly basis. To combine the Zillow housing datasets with the COVID dataset which gave daily case information by county, we summed up the points in a week to give a weekly total for the same week day, and we combined counties’ data within an MSA.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="cleaning" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                  <p>
                    We started by removing NAN and extreme values such as 0 from the dataset. Then we filled in the missing value with a suitable number by predicting values based upon the closeness of nearby datapoints. However, there were a few outliers that could have possibly been caused by sale prices or days-pending that were larger than the peer cities.
                  </p>  
              </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>Data Cleaning</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="analysis" style="padding-top: 50px; padding-bottom: 50px; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>Feature Selection and Analysis</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                    <p>
                      We created correlation matrices to analyze the relationships between our features (median list price, median sale price, for-sale inventory, and COVID cases) and the target variable (MDSP). From our matrices we determined that we could get rid of median list price as a feature because it was highly correlated with median sale price (0.98). We decided to keep median sale price as a feature because median list price has the lower correlation with the target variable (-0.16 or -0.19) in all three models though median sale price still has a relatively low correlation with our target variable. Our final features were median sale price (MSP), for-sale inventory (FSI), and COVID cases.
                    </p>
                    <p>
                      With our final features and target variable, we observed a positive correlation between MDPS and FSI. We think that this occurred since we analyzed a larger number of cities with a higher cost of living. The need for housing within these cities has fallen because work from home no longer requires employees to be within a commutable distance from their workplace. The number of houses going on sale within the cities has increased and no one has the need to move into the cities which has slowed the rate at which homes sell. At the same time, in the smaller number of cities we analyzed with a more suburban surrounding area, the inventory for sale there had decreased a bit because of work from home. This, in turn, would most likely decrease the days that an available house would remain on the market, because the demand would be increasing from the limited number of houses in that area.There was a slight positive correlation between COVID cases & MDPS and COVID cases & FSI. We think that this happened because the areas that had higher case counts were generally larger and denser cities, which is often where higher housing prices occur. In this sense, no one would want to move into the cities which would drive up the number of houses on the market and the length of time a house remained for sale. Furthermore, COVID cases had very little correlation with MSP and there was a slight negative correlation between MSP & FSI and MSP & MDPS. These negative correlations could probably relate to simple supply and demand. 
                    </p>
                </div>
            </div>
        </div>
        <div class="container">
              <div class="row">
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="CorrelationPre.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="CorrelationDuring.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="CorrelationHousingCovid.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
              </div>
          </div>
      </div>
    <div class="jumbotron-fluid" id="clustering" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                  <p>
                    The algorithms that we attempted were PCA, KMeans, DBSCAN, and GMM. The reason we chose these algorithms was to find any relationships between our features, determine the outliers within our datasets, and to gain a better understanding of our datasets represented. We thought that using PCA would show us some form of linear regression that we were hoping would determine relationships that our data had. This would help us in our supervised learning portion of the project. We chose the three clustering algorithms because we were a little unsure about how to approach unsupervised learning with our datasets since each city had separate data that we combined into a larger set in order to run it through the algorithms, so we decided to attempt all three then analyze the results and see if anything came out of them; we were not sure if including the variance that our data contained because of the locations all lumped together as one set would have an effect on our results. DBSCAN in particular was for determining if our data contained any outliers.
                  </p> 
                </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>Algorithms</h1>
                </div>
            </div>
            <br>
          <div class="container">
              <div class="row">
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="PreHousing.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="DuringHousing.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="DuringCombined.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
              </div>
            <div class="row">
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>PCA Pre-COVID Housing</h4>                 
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>PCA During COVID Housing</h4>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>PCA Combined Housing and COVID</h4>                  
                  </div>
              </div>
          </div>
      <br>
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed black;">
                    <h1>PCA</h1>
                </div>
                <div class="col-sm-8" style="test-alight: left;">
                <p>For PCA, since we were only dealing with 2-3 features (housing data of median-days-pending and median list/sale price along with COVID case data depending on what time frame we were looking at), we realized that we did not need its dimensionality reducing feature. However, it did help us visualize our data and determine if any relationships existed between the data. We ended up creating 4 bins to divide up the median-days-pending data in order to better visualize how values were clustered, if at all. The following ranges were how we broke up our data:</p>
                <p>
                  0: 0-19 days
                </p>
                <p>
                  1: 20-39 days
                </p>
                <p>
                  2: 40-59 days
                </p>
                <p>
                  3: 60-79 days
                </p>
                <p>The principal components took our features, which were MDPS, FSI, and eventually the COVID case count, and determined how correlated the two or three were before projecting them onto the axis. By looking at our graphs, we can see that solely housing data that was divided up between pre and during COVID is extremely scattered showing that there is no strong correlation between the MDPS based upon the FSI and MSP with large V-shapes stretching across the graphs (looking at the graphs labeled “PCA Pre-COVID Housing” and “PCA During COVID Housing”). Adding in the COVID data, there was less variance on principal component 2, with both components having a straighter line in the x and y directions, more L-shaped, that lingered around the 0 with a couple values floating away from it (shown on “PCA Combined Housing and COVID”). This demonstrated that adding in the COVID data introduced some form of correlation, although not the strongest, between the datasets while not having the case data meant practically no correlation between just the housing data.</p>
              </div> 
            </div>
        </div>
      <br>
      <br>
        <div class="container">
              <div class="row">
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="Kmeans2.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="DBSCAN.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <img src="GMM5.png" width="300" height="300" alt="pic" class="center"/>                  
                  </div>
              </div>
            <div class="row">
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>KMeans Two Feature Analysis</h4>                 
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>DBSCAN</h4>                  
                  </div>
                  <div class="col-sm-4" style="text-align: center;">
                    <h4>5 Component GMM</h4>                  
                  </div>
              </div>
          </div>
          <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                  <p>Originally, we hoped that clustering using KMeans would show us clusters based on the MDPS and then by adding in the COVID data the clusters would fall in the same spots. This ended up not being the case because the features that we were using to cluster, MSP and FSI, didn’t have much relation to each other as determined in the correlation matrix. We encountered similar issues when attempting to do GMM. In the end, we attempted to evaluate the clusters by using F1 score, which calculates our model’s precision (proportion of correct to incorrect predictions) and recall (proportion of points that we correctly predicted). Since K-means clustering assigned random cluster numbers rather than attempting to create a cluster labeled for each metropolitan area for which we generated combined housing-COVID datasets for, we had F1 scores of 0.1 (signifying very low precision and recall) on each attempt to cluster using COVID cases and median days pending to sale in a metro area. Therefore, unless we can create clusters with the metro area labels, F1 score on our K-means clustering does not give us any useful insights.</p>
                  <p>The graph labeled “K-means Two Feature Analysis” was an attempt to use K-means clustering (with 19 clusters) with the 19 metropolitan areas included over a 30 week period from January to August 2020 over the features of COVID cases and median days pending to sale. However, we could not find many generic correlations between COVID cases in a city and median days pending to sale, as many of our clusters ended up depicting either a constant case count or an insignificant variance in median days pending to sale. If we removed the weeks where a metro area had 0 cases, this could potentially provide more useful clusters, but would cause many discrepancies between the number of timepoints each city is represented by in the dataset.</p>
                  <p>We used DBSCAN to find outliers when we clustered the median sale price and for-sale inventory. As we can see in the given plot labeled DBSCAN in the algorithms section, the purple points represent the outliers as they are the points which could not be fit into any cluster.</p>
            </div>
            <div class="col-sm-4" style="border-left: 1px dashed black; text-align: left;">
                    <h1>Clustering</h1>
            </div>
        </div>
            
      <br>
            
    </div>
      </div>

    
        <div class="jumbotron-fluid" id="conclusion" style="padding-top: 50px; padding-bottom: 50px; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>Conclusion</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                    <p>
                      Based upon our results, PCA told us that there was almost no correlation between the for sale inventory and the median days pending sale but adding in COVID case data brought a little bit of correlation into the graphs. This helped us understand that there was a bit of a relationship between COVID in an area and FSI/MDPS rather than FSI and MDPS being related. With this, we will be able to move forward with our supervised portion of regression because we know which datasets to compare.
                    </p>
                    <p>
                      Furthermore, utilizing the clustering algorithms GMM and KMeans was not very effective on our data because it was hard to measure their performance since there really weren’t any clear relationship between FSI, MSP, and MDPS which was the only data we had for pre-COVID evaluation. We ended up with some clusters, but the clusters were just a general representation of the price scale and quantity of the housing market.
                    </p>
                    <p>
                      Overall, correlation matrices helped us recognize the relationships between our features and remove any redundant ones, PCA helped us visualize our data and determine relations, and DBSCAN helped us find outliers in our data. We ended up removing the median list price from our data because we found that it closely mirrored the median sale price and was rather redundant.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
