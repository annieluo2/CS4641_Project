<!DOCTYPE html>
<html>
  <head>
    <title>homedemic</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        .dropbtn {
          background-color: #b0e0e6;
          color: white;
          padding: 16px;
          font-size: 16px;
          border: none;
        }

        .dropdown {
          position: relative;
          display: inline-block;
        }

        .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f1f1f1;
          min-width: 160px;
          box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
          z-index: 1;
        }

        .dropdown-content a {
          color: black;
          padding: 12px 16px;
          text-decoration: none;
          display: block;
        }

        .dropdown-content a:hover {background-color: #c9eaee;}

        .dropdown:hover .dropdown-content {display: block;}

        .dropdown:hover .dropbtn {background-color: #b0e0e6;}
      
        .nav-item {
            padding-right: 10px
        }
         * {
            font-family: 'Cabin', sans-serif;
         }
    </style>
    <!-- Bootstrap CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Cabin&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-sm navbar-light" style="background-color: #b0e0e6">
        <div class="dropdown">
          <button class="dropbtn"><b>homedemic &darr;</b>
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="index.html">Home</a>
            <a href="Touchpoint1.html">Proposal</a>
            <a href="Touchpoint2.html">Midterm</a>
            <a href="Touchpoint3.html">Final</a>
          </div>
        </div> 
        <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <!-- 
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
                </li>
                <a href="#Lorem_Ipsum">top</a>
                -->
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section0">Cross-Validation</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section1">KNN Regression</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section2">KNN Results Visualizer</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section3">Polynomial Regression</a>
                </li>
                <br>  
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section4">Linear Regression</a>
                </li>
                <br>
                <li class="nav-item">
                    <a class="nav-link" style="color: black;" href="#section5">Conclusion</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="jumbotron-fluid" style="background-color: black; padding-top: 90px; padding-bottom: 50px;"> 
        <div class="row">
            <div class="col-sm-6" style="border-right: 1px dashed white; text-align: right; color: white;">
                <h1>Touchpoint 3</h1>
              </div>
              <div class="col-sm-6" style="text-align: left; color: #B0E0E6">
                  <h4> Supervised Learning </h4>
              </div>
          </div>
      </div>  
      <div class="jumbotron-fluid" id="section0" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                <p>
                    We were hoping to see a difference in a higher mean and a lower standard deviation on our dataset with COVID compared to the one without. The results for the analysis with the COVID data were better for almost all of the cities, but only barely. We determined that the analysis showed that the COVID dataset had a slight effect on the housing market, but the results were too similar to make a definitive statement that COVID specifically was the root cause rather than a fluctuating economy a pandemic.
                </p>
                <img src="loocv.JPG" width="90%" />
                </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>Cross-Validation</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="section1" style="padding-top: 50px; padding-bottom: 50px; color: #B0E0E6; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>K-Nearest Neighbors (KNN) Regression</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                 Our use of K-Nearest Neighbors, or KNN, regression served two purposes.
                  <h4> Part 1: Missing Data Imputation </h4>
                  <p> The first was to impute missing values in our combined housing-COVID feature datasets. While this task could not be validated with a ground-truth, it allowed for complete datasets that could then be used with other Supervised Learning algorithms. The two major variables imputed were median days to pending sale (which was originally missing for the New York MSA for parts of June-July 2020) and For Sale Inventory (which had missing points in Riverside, CA, and Tampa, FL).</p>
                  <h4> Part 2: Prediction of Trends </h4>
                  <p>The second purpose of K-Nearest Neighbors was to predict the median days to pending sale of time points after October 3, 2020, the cutoff of our training set. We used a test set between October 3 and October 31, 2020, and attempted to predict the median days to pending sale for the testing weeks. After using the elbow method from 1-20 neighbors, the most optimal number of neighbors for NYC was 11, and the RMSE (root-mean-square-error) of predicting the days to pending sale of the testing data was 0.5 for 11 neighbors, which may be due to the relative predictability of housing trends in the New York City metro area, as well as the relative lack of deviation in median days to pending sale in New York after the pandemic started (which means that the nearest points to the testing data would likely also be during the pandemic). In other cities, these trends may not be the same, as local long-term trends, as well as COVID-related short term trends in housing demand, may vary. 
                </p>
                </div>
            </div>
        </div>
    </div>   
    <div class="jumbotron-fluid" id="section2" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                    <div class="row">
                        <a id="la" class="btn btn-primary btn-lg bg-button" style="border-color: #bee5eb; background-color: #62bc86; color:white; cursor: pointer;" onclick="la()"
                        role="button">Los Angeles</a>
                        <a id="nyc" class="btn btn-primary btn-lg bg-button" style="border-color: #bee5eb; background-color: #62bc86; color:white; cursor: pointer;" onclick="nyc()"
                        role="button">New York</a>
                        <a id="chi" class="btn btn-primary btn-lg bg-button" style="border-color: #bee5eb; background-color: #62bc86; color:white; cursor: pointer;" onclick="chi()"
                        role="button">Chicago</a>
                    </div>
                      <div>
                        <div id="nyc-res" style="display: none">
                            <h2>New York, NY</h2>
                            <h3>Optimal Neighbors: <b>11</b></h3>
                            <h3>Median Days to Pending Sale</h3>
                            <h4>Week of October 10: <b>29</b></h4>
                            <h4>Week of October 17: 29 (actual 28)</h4>
                            <h4>Week of October 24: 29 (actual 28)</h4>
                            <h4>Week of October 31: <b>29</b></h4>
                            <h5>RMSE: <b>0.5</b></h5>
                            <img src="nyc-results.png" height="400" width="80%" />
                        </div>
                        <div id="la-res" style="display: none">
                            <h2>Los Angeles, CA</h2>
                            <h3>Optimal Neighbors: <b>1</b></h3>
                            <h3>Median Days to Pending Sale</h3>
                            <h4>Week of October 10: 13 (actual 12)</h4>
                            <h4>Week of October 17: 13 (actual 12)</h4>
                            <h4>Week of October 24: 13 (actual 12)</h4>
                            <h4>Week of October 31: 13 (actual 12)</h4>
                            <h5>RMSE: <b>1.0</b></h5>
                            <img src="la-results.png" height="400" width="80%" />
                        </div>
                        <div id="chi-res" style="display: none">
                            <h2>Chicago, IL</h2>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Without COVID</h2>
                                    <br>
                                    <h3>Optimal Neighbors: <b>5</b></h3>
                                    <h3>Median Days to Pending Sale</h3>
                                    <h4>Week of October 10: <b>12</b></h4>
                                    <h4>Week of October 17: 13 (actual 12)</h4>
                                    <h4>Week of October 24: 14 (actual 13)</h4>
                                    <h4>Week of October 31: 14 (actual 13)</h4>
                                    <h5>RMSE: <b>0.75</b></h5>
                                </div>
                                <div class="col-sm-6">
                                    <h2>With COVID</h2>
                                    <br>
                                    <h3>Optimal Neighbors: <b>1</b></h3>
                                    <h3>Median Days to Pending Sale</h3>
                                    <h4>Week of October 10: <b>12</b></h4>
                                    <h4>Week of October 17: <b>12</b></h4>
                                    <h4>Week of October 24: 12 (actual 13)</h4>
                                    <h4>Week of October 31: 12 (actual 13)</h4>
                                    <h5>RMSE: <b>0.5</b></h5>
                                </div>
                            </div>
                            <img src="chi-results.png" height="400" width="80%" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>KNN Results</h1>
                    <p>Explanation of visuals: In the RMSE graph, red factors in COVID while green doesn't. In the 2D and 3D graphs, red dots are training weeks, and green are our testing weeks.</p>
                    <p>In the RMSE graph, where there is only one point for a given number of neighbors, this means that COVID data played no difference in RMSE.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="section3" style="padding-top: 50px; padding-bottom: 50px; color: #B0E0E6; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>Polynomial Regression</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                  <p> Our goal while doing polynomial regression was to find the model which leads to the lowest errors. We did this by doing polynomial regression on degrees 1-25 using our features For- Sale Inventory and Median-List Price to predict the median days to sale. </p>
                  <img src="poly1.png" />
                  <p> The RMSE plot is shown above and polynomial degree 1 has the lowest RMSE value. </p>
                  <img src="poly2.png" />
                  <p>
                      Here is our RMSE plot with covid and the polynomial degree one has the lowest RMSE but the difference between the RMSE values of the regression with and without covid features are negligible which tells us that the number of Covid cases is not the best deciding feature to predict median days to sale.
                  </p>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="section4" style="padding-top: 50px; padding-bottom: 50px; background-color: #B0E0E6; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-8" style="text-align: right;">
                    <p>
                        We began with simple linear regression by multiplying the two housing data features (median list price and for-sale inventory) together into one independent variable and using median days pending to sale as the dependent variable. We found that using a train-test split of 90-10 produced the best results for the New York city dataset. The RMSE value was about 19.4699 which normalizes to about 36.74% of the range which signifies that the model is not very strong with making predictions.
                    </p>
                    <img src="lin0.JPG" width="50%" />
                    <p>
                        We realized that we could not combine COVID case data to the two housing features in a logical way for one independent variable, so we shifted to multiple linear regression.
                    </p>
                    <img src="lin2.png" width="80%" />
                    <p>
                        Including COVID data had a lower normalized RMSE value by .0509%, but the decrease in RMSE is so small that including the COVID case data does not seem to make a difference in the model's performance. Additionally, the RMSE values were still about the same compared to the simple linear regression model.
                    </p>
                    <img src="lin1.JPG" width="60%" />
                    <p>
                        Next, we tried standardizing our dataset to help lower our RMSE values. Standardization seemed to help reduce RMSE values by almost 9%. Differences between the two models' RMSE values were still pretty negligible though. These models are slightly better predictors compared to before, but they are still not that good. After further analysis, we determined that data could use KNN imputation for missing data points and improving our RMSE values.
                    </p>
                    <img src="lin4.JPG" width="60%" />
                    <p>
                        The model seems to predict very poorly for the major cities other than New York, but the RMSE values are consistently slightly lower when COVID data is included as a feature. This could mean that COVID has a very very slight effect on the median days pending to sale feature, but the effect is nearly negligible.
                    </p>
                    <img src="lin3.JPG" width="80%" />
                </div>
                <div class="col-sm-4" style="border-left: 1px dashed black;">
                    <h1>Linear Regression</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron-fluid" id="section5" style="padding-top: 50px; padding-bottom: 50px; background-color: white; color: black;">
        <div class="container">
            <div class="row">
                <div class="col-sm-4" style="border-right: 1px dashed powderblue; text-align: right;">
                    <h1>Conclusion</h1>
                </div>
                <div class="col-sm-8" style="text-align: left;">
                    <p>
                        Overall, the algorithms that we used...
                    </p>
                    <p>
                        We considered using other forms of supervised learning such as neural networks, but we decided against them because the problem we are looking into is a prediction problem and not a classification problem. The neural network we were planning to use was perceptron from scikit learn, and it is mainly used for classification. 
                    </p>
                    <p>
                        To improve our results, we determined that we need more data during COVID. We could use datasets with daily data instead of weekly data. Also we might need to find a different housing data feature to predict instead of median days pending to sale. Our correlation matrices from the unsupervised learning portion did not show very strong correlations between median days pending to sale and COVID case data though they were slightly correlated with the value of 0.24.
                    </p>
                    <img src="CorrelationHousingCovid.png" width="60%" />
                </div>
            </div>
        </div>
    </div>
    <script>
        function la() {
            document.getElementById("la-res").style.display = "block";
            document.getElementById("nyc-res").style.display = "none";
            document.getElementById("chi-res").style.display = "none";
            document.getElementById("la").style.display = "none";
            document.getElementById("nyc").style.display = "block";
            document.getElementById("chi").style.display = "block";
        }

        function nyc() {
            document.getElementById("nyc-res").style.display = "block";
            document.getElementById("la-res").style.display = "none";
            document.getElementById("chi-res").style.display = "none";
            document.getElementById("nyc").style.display = "none";
            document.getElementById("la").style.display = "block";
            document.getElementById("chi").style.display = "block";
        }

        function chi() {
            document.getElementById("nyc-res").style.display = "none";
            document.getElementById("la-res").style.display = "none";
            document.getElementById("chi-res").style.display = "block";
            document.getElementById("nyc").style.display = "block";
            document.getElementById("la").style.display = "block";
            document.getElementById("chi").style.display = "none";
        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
